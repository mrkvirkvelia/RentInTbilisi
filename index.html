
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Tbilisi Agent Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; }
        #container { display: flex; flex-direction: row; height: 100vh; }
        #sidebar { width: 300px; overflow-y: auto; background: #f7f7f7; padding: 10px; }
        #map { flex: 1; }
        .agent { cursor: pointer; margin: 5px 0; padding: 5px; }
        .agent:hover { background: #e0e0e0; }
        @media (max-width: 768px) {
            #container { flex-direction: column; }
            #sidebar { width: 100%; height: 300px; }
            #map { height: calc(100vh - 300px); }
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="sidebar">
            <h3>Агенты по районам</h3>
            <div id="agentList"></div>
        </div>
        <div id="map"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script>
        const map = L.map('map').setView([41.715, 44.78], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19
        }).addTo(map);

        const districts = [
            { name: "Ваке", coords: [41.706, 44.766] },
            { name: "Сабуртало", coords: [41.732, 44.760] },
            { name: "Вера", coords: [41.705, 44.784] },
            { name: "Дидубе", coords: [41.741, 44.793] },
            { name: "Чугурети", coords: [41.717, 44.799] },
            { name: "Авлабари", coords: [41.690, 44.820] },
            { name: "Глдани", coords: [41.800, 44.830] },
            { name: "Исани", coords: [41.700, 44.850] },
            { name: "Варкетили", coords: [41.670, 44.880] },
            { name: "Мтацминда", coords: [41.693, 44.801] },
            { name: "Крцаниси", coords: [41.680, 44.820] }
        ];

        const agents = [
            "Dmitri Airapetyan", "Daniil Gamkrelidze",
            "Sergi Tibelashvili", "Alex Kharitonashvili",
            "Irakli Sangulia", "Victoria Eliboshvili",
            "Mohammed Shafi Elliyas", "Omari Mdzevashvili",
            "Semyon Petunin", "Artem Petunin",
            "Maksim Lavilin", "Giga Gaganashvili",
            "Giorgi Beselia", "Zaza Kvitsiani",
            "Vladislav Ivliev", "David Kazakov",
            "Shorena Jvaridze", "Vitaly Tavrel",
            "Arkadiy Logunov", ""
        ];

        const markers = [];
        const agentList = document.getElementById("agentList");

        districts.forEach((district, index) => {
            const agent1 = agents[index * 2] || "–";
            const agent2 = agents[index * 2 + 1] || "–";
            const label = `${district.name}:<br>${agent1}<br>${agent2}`;
            const marker = L.marker(district.coords).addTo(map).bindPopup(label);
            markers.push(marker);

            const div = document.createElement("div");
            div.className = "agent";
            div.innerHTML = `<strong>${district.name}</strong><br>${agent1}<br>${agent2}`;
            div.addEventListener("mouseenter", () => {
                marker.openPopup();
                marker.setZIndexOffset(1000);
            });
            div.addEventListener("mouseleave", () => {
                marker.closePopup();
                marker.setZIndexOffset(0);
            });
            agentList.appendChild(div);
        });
    </script>
</body>
</html>
